<style>
    /* A. Universal: Back to Top Button */
    #backToTop {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 45px;
        height: 45px;
        background: var(--jft-primary);
        color: white;
        border-radius: 50%;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 3000;
        cursor: pointer;
        transition: 0.3s;
        border: none;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    #backToTop:hover { background: var(--jft-gold); transform: translateY(-3px); }

    /* B. Desktop: Space for Hero Banner */
    @media (min-width: 1025px) {
        main, .hero-section, #home { margin-top: 170px; } /* Adjusts for Top Bar (80px) + Navbar (90px) */
    }

    /* C. Mobile/Tablet Changes */
    @media (max-width: 1024px) {
        /* 1. Gulfood Tab at Top */
        .td-row-2 { order: -1; height: auto; padding: 8px 15px; }
        .visit-plan { clip-path: none; border-radius: 4px; padding: 5px 15px; font-size: 0.7rem; }
        .top-dashboard { display: flex; flex-direction: column; }
        
        /* 2. Menu Opening Position */
        .nav-menu { 
            top: 150px !important; /* Positions it right under the navbar */
            height: calc(100vh - 150px);
            right: -100%;
            display: flex;
            background: #fff; /* Changed to white for better readability */
        }
        .nav-menu.active { right: 0; }

        /* 3. Close Button & 4. Social/Quote in Menu */
        .menu-header-mobile { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid #eee; width: 100%; }
        .close-menu { font-size: 1.5rem; color: var(--jft-navy); cursor: pointer; }
        
        .menu-footer-mobile { padding: 30px 20px; width: 100%; border-top: 1px solid #eee; margin-top: auto; }
        .nav-link { color: var(--jft-navy) !important; border-bottom: 1px solid #f5f5f5; }
        
        .mobile-socials { display: flex; gap: 20px; margin-top: 20px; font-size: 1.2rem; }
        .mobile-socials a { color: var(--jft-primary); }
        .mobile-quote-btn { display: block; width: 100%; text-align: center; margin-top: 20px; background: var(--jft-primary); color: #fff; padding: 12px; border-radius: 5px; font-weight: 700; }
    }
</style>

<div id="page-progress"></div>
<button id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" aria-label="Back to top"><i class="fa-solid fa-arrow-up"></i></button>

<div class="top-dashboard">
    <div class="td-row-2">
        <div class="forex-group">
            <span id="forex-date" style="font-size:0.7rem; color:#888; text-transform:uppercase;"></span>
            <div class="forex-item" id="fx-usd">USD/INR <span>..</span></div>
            <div class="forex-item desktop-only" id="fx-eur">EUR/INR <span>..</span></div>
        </div>
        <a href="#contact" class="visit-plan"><i class="fa-solid fa-plane-departure"></i> MEET US AT GULFOOD DUBAI</a>
    </div>

    <div class="td-row-1">
        <div class="td-social desktop-only">
            <span>Follow Us:</span>
            <a href="https://in.linkedin.com" target="_blank"><i class="fa-brands fa-linkedin"></i></a>
            <a href="https://www.instagram.com/" target="_blank"><i class="fa-brands fa-instagram"></i></a>
            <a href="https://www.facebook.com/" target="_blank"><i class="fa-brands fa-facebook"></i></a>
        </div>
        <div class="td-news-ticker">
            <div class="ticker-label"><div class="live-dot"></div> MARKET FEED</div>
            <div class="ticker-track" id="dynamic-ticker"></div>
        </div>
        <div class="td-utilities desktop-only">
            </div>
    </div>
</div>

<nav class="jft-navbar" id="navbar">
    <div class="jft-wide-container nav-flex">
        <a href="index.html" class="nav-logo-link"><img src="images/jft logo.png" alt="JFT Agro" class="nav-logo-img"></a>
        
        <div class="nav-menu" id="navMenu">
            <div class="menu-header-mobile desktop-only" style="display: none;">
                <span style="font-weight:800; color:var(--jft-navy)">MENU</span>
                <i class="fa-solid fa-xmark close-menu" onclick="toggleMenu()"></i>
            </div>

            <a href="index.html" class="nav-link" onclick="toggleMenu()">Home</a>
            <a href="about.html" class="nav-link" onclick="toggleMenu()">About</a>
            <a href="products.html" class="nav-link" onclick="toggleMenu()">Products</a>
            <a href="infrastructure.html" class="nav-link" onclick="toggleMenu()">Infra</a>
            <a href="contact.html" class="nav-link" onclick="toggleMenu()">Contact</a>

            <div class="menu-footer-mobile desktop-only" style="display: none;">
                <p style="font-size: 0.8rem; font-weight: 700; color: #999;">FOLLOW US</p>
                <div class="mobile-socials">
                    <a href="#"><i class="fa-brands fa-linkedin"></i></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#"><i class="fa-brands fa-facebook"></i></a>
                </div>
                <a href="contact.html" class="mobile-quote-btn">REQUEST EXPORT QUOTE</a>
            </div>
            
            <a href="contact.html" class="nav-btn-action desktop-only">Get Quote</a>
        </div>
        <div class="mobile-toggle" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
    </div>
</nav>

<script>
    // Show/Hide Back to Top
    window.addEventListener('scroll', function() {
        const btt = document.getElementById('backToTop');
        if (window.scrollY > 300) btt.style.display = 'flex';
        else btt.style.display = 'none';
    });

    // Modified toggle for the mobile menu elements
    function toggleMenu() {
        const menu = document.getElementById('navMenu');
        const mobileOnlyItems = menu.querySelectorAll('.desktop-only');
        menu.classList.toggle('active');
        
        if(menu.classList.contains('active')) {
            document.body.style.overflow = 'hidden';
            mobileOnlyItems.forEach(el => { if(!el.classList.contains('nav-btn-action')) el.style.display = 'flex'; });
        } else {
            document.body.style.overflow = '';
            mobileOnlyItems.forEach(el => { if(!el.classList.contains('nav-btn-action')) el.style.display = 'none'; });
        }
    }
</script>
