<footer class="footer-section" id="contact">
    <div class="jft-wide-container">
        <div class="footer-grid">
            <div class="f-col">
                <img src="https://jftagro.com/wp-content/uploads/2023/01/jft-final-02-scaled.png" alt="JFT Agro" style="width: 180px; filter: brightness(0) invert(1); margin-bottom: 25px;">
                <p style="color: rgba(255,255,255,0.7); font-size: 0.95rem; margin-bottom: 25px; line-height: 1.6;">Government Recognized <strong>Star Export House</strong>. Bridging the gap between fertile Indian farms and global markets with integrity, quality, and trust.</p>
                <div class="td-social" style="padding: 0; background: none; justify-content: flex-start;">
                    <a href="#" target="_blank"><i class="fa-brands fa-linkedin"></i></a>
                    <a href="#" target="_blank"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#" target="_blank"><i class="fa-brands fa-facebook"></i></a>
                </div>
            </div>

            <div class="f-col">
                <h4>Quick Links</h4>
                <ul class="f-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="index.html#products">Our Products</a></li>
                    <li><a href="index.html#infrastructure">Infrastructure</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </div>

            <div class="f-col">
                <h4>Reach Us</h4>
                <ul class="f-contact">
                    <li><i class="fa-solid fa-location-dot"></i> <span><strong>Head Office:</strong><br>123, Commodity Exchange, Sector 19, Vashi, Mumbai - 400705</span></li>
                    <li><i class="fa-solid fa-envelope"></i> <span>export@jftagro.com<br>sales@jftagro.com</span></li>
                    <li><i class="fa-solid fa-phone"></i> <span>+91 98960 55555<br>+91 22 4545 6767</span></li>
                </ul>
            </div>

            <div class="f-col">
                <h4>Export Inquiry</h4>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.85rem; margin-bottom: 15px;">Get our latest product catalogue and export price list directly to your inbox.</p>
                <form class="f-newsletter" onsubmit="event.preventDefault(); alert('Thank you! Our export manager will contact you shortly.');">
                    <input type="email" class="f-input" placeholder="Enter Official Email ID" required>
                    <button type="submit" class="f-btn-full">Request Price List</button>
                </form>
            </div>
        </div>

        <div class="footer-bottom">
            <span>&copy; <script>document.write(new Date().getFullYear())</script> JFT Agro Overseas LLP. All Rights Reserved. | <a href="#" style="color: var(--jft-gold);">Privacy Policy</a> | <a href="#" style="color: var(--jft-gold);">Terms of Trade</a></span>
        </div>
    </div>
</footer>

<script>
    /* --- 1. Navigation & Mobile Menu --- */
    function toggleMenu() { 
        const menu = document.getElementById('navMenu'); 
        const icon = document.querySelector('.mobile-toggle i'); 
        if(menu && icon) {
            menu.classList.toggle('active'); 
            if(menu.classList.contains('active')) { 
                icon.classList.remove('fa-bars'); 
                icon.classList.add('fa-xmark'); 
            } else { 
                icon.classList.remove('fa-xmark'); 
                icon.classList.add('fa-bars'); 
            }
        }
    }

    /* --- 2. Language Switcher --- */
    function toggleLang() { 
        const menu = document.getElementById('langMenu');
        if(menu) menu.classList.toggle('show'); 
    }
    
    function changeLanguage(langCode) { 
        var selectField = document.querySelector(".goog-te-combo"); 
        if(selectField) { 
            selectField.value = langCode; 
            selectField.dispatchEvent(new Event("change")); 
        } 
        const menu = document.getElementById('langMenu');
        if(menu) menu.classList.remove('show'); 
    }
    
    // Close lang menu when clicking outside
    window.onclick = function(e) { 
        if (!e.target.closest('.lang-btn')) {
            const menu = document.getElementById('langMenu');
            if(menu) menu.classList.remove('show'); 
        }
    }

    /* --- 3. Live Forex Data --- */
    async function fetchLiveForex() {
        try {
            const response = await fetch('https://api.frankfurter.app/latest?from=USD&to=INR,EUR,GBP'); 
            const data = await response.json();
            if(data && data.rates) {
                const usdInr = data.rates.INR; 
                
                // Fetch EUR separately to get accurate cross rate if needed, or rely on base
                const resEur = await fetch('https://api.frankfurter.app/latest?from=EUR&to=INR'); 
                const dataEur = await resEur.json(); 
                const eurInr = dataEur.rates.INR; 

                // Safely update DOM only if elements exist
                const elUsd = document.getElementById('fx-usd');
                const elEur = document.getElementById('fx-eur');
                
                if(elUsd) elUsd.innerHTML = `USD/INR <span class="forex-up">${usdInr.toFixed(2)} ▲</span>`; 
                if(elEur) elEur.innerHTML = `EUR/INR <span class="forex-up">${eurInr.toFixed(2)} ▲</span>`;
            }
        } catch (e) { 
            // Fallback
            const elUsd = document.getElementById('fx-usd');
            if(elUsd) elUsd.innerHTML = 'USD/INR <span class="forex-up">83.50 ▲</span>'; 
        }
    }

    /* --- 4. Page Initialization (Load & Scroll) --- */
    window.addEventListener('load', function() {
        
        // A. Remove Preloader (Solves "Page Not Loading")
        setTimeout(() => {
            const preloader = document.getElementById('preloader');
            if(preloader) {
                preloader.style.opacity = '0'; // Fade out
                setTimeout(() => { preloader.style.display = 'none'; }, 1000); // Remove
            }
        }, 1000);

        // B. Initialize Animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { 
                if (entry.isIntersecting) entry.target.classList.add('active'); 
            });
        }, { threshold: 0.15 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // C. Initialize Ticker & Forex
        fetchLiveForex();
        
        const dateSpan = document.getElementById('forex-date'); 
        if(dateSpan) dateSpan.innerText = "RATES AS OF " + new Date().toLocaleDateString('en-GB');

        const tickerContainer = document.getElementById('dynamic-ticker');
        if(tickerContainer) {
            const fullNews = [ 
                `<div class="t-item"><i class="fa-solid fa-ship"></i><span>UPDATE:</span> Exports to West Africa Operating Normally</div>`, 
                `<div class="t-item"><i class="fa-solid fa-leaf"></i><span>SPICES:</span> New Turmeric Harvest Arriving</div>`, 
                `<div class="t-item"><i class="fa-solid fa-wheat"></i><span>GRAINS:</span> Wheat Export Quota Open</div>` 
            ];
            tickerContainer.innerHTML = fullNews.join('') + fullNews.join('');
        }
    });

    /* --- 5. Scroll Handling (Sticky Nav & Progress) --- */
    window.addEventListener('scroll', function() {
        // Sticky Navbar
        const nav = document.getElementById('navbar');
        if(nav) {
            if (window.scrollY > 50) nav.classList.add('scrolled'); 
            else nav.classList.remove('scrolled');
        }

        // Page Progress Bar
        const progress = document.getElementById("page-progress");
        if(progress) {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            progress.style.width = scrolled + "%";
        }
    });
</script>
